<!-- Spinner -->
<ngx-spinner bdColor="rgba(237, 238, 240, 1)" size="medium" color="#05adad" type="line-scale-pulse-out">
    <br />
    <p style="font-size: 20px; color: #05adad; font-weight:bold">Loading...</p>
</ngx-spinner>

<div class="relative min-w-0 break-words w-full border-0 flex-auto">
    <div class="flex flex-wrap">
        <div class="w-full mb-12">
            <div class="relative flex flex-col bg-white min-w-0 break-words rounded-lg bg-transparent m-4 ">
                <div class="rounded-t mb-0 px-4 pt-4 pb-2 bg-transparent">
                    <div class="flex flex-wrap items-center">
                        <div class="relative w-full max-w-full flex-grow flex-1">
                            <h2 class="text-blueGray-500 text-2xl font-bold">Payments</h2>
                            <div class="h-0 mt-2 border border-solid border-blueGray-200"></div>
                        </div>
                    </div>
                </div>
                <div class="flex inline-block shadow-lg rounded min-h-screen-75 max-h-screen-75">
                    
                    <div class="pl-4 pr-2 pt-1 pb-4 flex-auto overflow-y-auto ml-4">
                        <div class="relative">
                            <div *ngFor="let pay of paymentsList; let i = index">
                                <div class="w-full pl-4 pr-4">
                                    <button class="accordion"
                                        (click)="toggleAccordian($event, i)">
                                        <span class="mr-4">
                                            <i class="fas fa-chevron-right pr-4" *ngIf="!pay.isActive"
                                                style="color: darkslategray;"></i>
                                            <i class="fas fa-chevron-down pr-4" *ngIf="pay.isActive"
                                                style="color: darkslategray;"></i>
                                        </span>
                                        <span class="pl-4 text-blueGray-700 text-lg font-bold">
                                            {{pay?.name}}
                                        </span>
                                        <span class="float-right pr-4">
                                            <div class="text-blueGray-700 text-lg font-bold text-right">
                                                {{pay?.paymentAmount | currency: 'NZD':'symbol-narrow'}}
                                            </div>
                                            <div class="text-sm text-blueGray-400 font-semibold">
                                                {{pay?.paymentDate | date:'longDate'}}
                                            </div>
                                        </span>
                                    </button>
                                    <div id="{{i}}" class="panel flex" hide="!ins.isActive">
                                        <div class="mt-1 xl:w-10/12 lg:w-10/12 md:w-10/12" style="padding-left: 72px;">
                                            
                                        </div>
                                        <div class="xl:w-2/12 lg:w-2/12 md:w-2/12 relative text-right mb-4">
                                            <a type="button"
                                                class="bg-transparent text-teal-500 border mt-2 text-xl font-bold"
                                                style="border-color: teal; border-width: 2px;"
                                                fileSaver
                                                [href]="pay?.statementFile"
                                                [download]="pay?.statementFile"
                                                rel="noopener noreferrer"
                                                target="_blank"
                                                ><span
                                                    class="p-2">Statement</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center" *ngIf="paymentsList?.length === 0">
                                <span class="text-blueGray-700 font-xl">No records found</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>