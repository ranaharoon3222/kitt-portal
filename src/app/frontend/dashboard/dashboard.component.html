<ngx-spinner bdColor="rgba(237, 238, 240, 1)" size="medium" color="#05adad" type="line-scale-pulse-out" [fullScreen]="true">
    <p style="font-size: 20px; color: #05adad; font-weight:bold">Loading...</p>
</ngx-spinner>

<div class="p-3 bg-white rounded-md shadow-md md:ml-4 md:p-5 my-11">
    <h1 class="text-lg font-bold text-secondary-focus xl:text-3xl ">Welcome {{userName}} </h1>
    <p class="font-semibold text-secondary">Use your kitt portal to do something you like </p>
</div>

<!-- Overview -->
<div class=" tab-contents" id="Overview">
    <div class="flex flex-wrap">
        <div class="w-full my-4 xl:px-4 xl:w-2/3 xl:my-0">
            <div class="bg-white overflow-hidden shadow-md xl:min-h-[600px] rounded-lg pb-3  h-full">
                <!-- property section -->
                <div class="flex flex-wrap items-center overflow-hidden bg-white border-b-2 border-accent-focus xl:pr-3" *ngFor="let acc of accountList; let i = index" (click)="showProperty(acc)" style="cursor: pointer;">
                    <div class="w-full overflow-hidden xl:w-2/12">
                        <!-- Column Content -->
                        <div *ngIf="acc?.photos.length !== 0">
                            <img class="min-h-[112px] object-cover" src="{{ acc?.photos[0].photoUrl }}" alt="" />
                        </div>
                        <div *ngIf="acc?.photos.length === 0">
                            <img class="min-h-[112px] object-cover" src="assets/images/no-image-found.png" alt="">
                        </div>
                    </div>

                    <div class="w-full overflow-hidden xl:w-[50%] pl-4 pr-4">
                        <!-- Column Content -->
                        <h1 class="mt-3 text-lg font-extrabold md:text-2xl xl:mt-0 text-secondary-focus">
                            {{acc?.address}},{{acc?.addressLine2}}<span *ngIf="acc?.addressLine2 != null">,</span>{{acc?.city}},{{acc?.state}},{{acc?.country}}
                        </h1>
                        <span class="text-xs font-semibold uppercase text-secondary">{{acc?.propertyID}}</span>
                    </div>

                    <div class="w-full px-4 py-4 md:p-4 xl:w-1/3 xl:p-0 ">
                        <!-- Column Content -->
                        <span class="xl:ml-auto xl:px-11 px-2  w-full flex items-center justify-center max-w-[140px] font-bold text-green-700 bg-green-100 rounded-3xl h-9" *ngIf="acc?.tenanted === true">Rented</span>
                        <span class="xl:ml-auto xl:px-11 px-2  w-full flex items-center justify-center max-w-[140px] font-bold text-green-700 bg-green-100 rounded-3xl h-9" *ngIf="acc?.tenanted !== true">Available</span>
                        <div class="flex mt-4 xl:justify-end">
                            <span class="px-1 xl:px-3 w-full flex items-center justify-center max-w-[140px] font-medium text-secondary rounded-3xl h-8 border border-secondary mr-1 xl:mr-4 text-xs"> {{acc?.city}}</span>
                            <span class="px-1 xl:px-3 w-full flex items-center justify-center max-w-[140px] font-medium text-secondary rounded-3xl h-8 border border-secondary mr-1 xl:mr-4 text-xs" *ngIf="acc?.propertyTypeLabel === 'House'"> 
                                <span class="mr-1 text-lg material-icons"> house </span> {{acc?.propertyTypeLabel}}
                            </span>
                            <span class="px-1 xl:px-3 w-full flex items-center justify-center max-w-[140px] font-medium text-secondary rounded-3xl h-8 border border-secondary mr-1 xl:mr-4 text-xs" *ngIf="acc?.propertyTypeLabel === 'Apartment'"> 
                                <span class="material-icons"> apartment </span> {{acc?.propertyTypeLabel}}
                            </span>
                            <span *ngIf="acc?.bedRoom !== null && acc?.bedRoom != 0" class="min-w-[70px] px-1 w-full flex items-center justify-center max-w-[100px] font-medium text-secondary rounded-3xl h-8 border border-secondary mr-1 xl:mr-4 text-xs">
                                <span class="mr-1 text-lg material-icons"> bed </span> {{acc?.bedRoom}} Beds
                            </span>
                            <span *ngIf="acc?.bedRoom === null || acc?.bedRoom == 0" class="min-w-[70px] px-1 w-full flex items-center justify-center max-w-[100px] font-medium text-secondary rounded-3xl h-8 border border-secondary mr-1 xl:mr-4 text-xs">
                                <span class="mr-1 text-lg material-icons"> bed </span> 0 Beds
                            </span>
                            <span *ngIf="acc?.bathRoom !== null && acc?.bathRoom != 0" class="min-w-[70px] px-1 w-full flex items-center justify-center max-w-[110px] font-medium text-secondary rounded-3xl h-8 border border-secondary text-xs">
                                <span class="mr-1 text-lg material-icons">
                                    bathtub
                                </span> {{acc?.bathRoom}} Baths
                            </span>
                            <span *ngIf="acc?.bathRoom === null || acc?.bathRoom == 0" class="min-w-[70px] px-1 w-full flex items-center justify-center max-w-[110px] font-medium text-secondary rounded-3xl h-8 border border-secondary text-xs">
                                <span class="mr-1 text-lg material-icons">
                                    bathtub
                                </span> 0 Baths
                            </span>
                        </div>
                    </div>
                </div>
                <!-- end property section -->
                <div class="text-center" *ngIf="accountList?.length === 0">
                    <br />
                    <span class="text-blueGray-700 font-xl">No records found</span>
                </div>
            </div>
        </div>

        <div class="w-full my-4 bg-white rounded-lg shadow-md xl:my-0 xl:w-1/3">
            <!-- Column Content -->
            <div class="flex py-3 px-3  items-center border-b-[1px] border-gray-300 h-16 flex-wrap ">
                <div class="w-[55%]">
                    <h1 class="text-lg font-bold text-secondary">Activity</h1>
                </div>
                <div class="w-[45%] font-bold text-secondary flex justify-end">
                    <!-- <div class="w-full dropdown dropdown-end dropdown-hover max-w-[145px]">
                        <div tabindex="0" class="px-2 py-1 border-2 border-accent-focus min-w-[110px] text-center flex items-center justify-center">
                            <span class="mr-1 text-lg material-icons">
                                filter_alt
                            </span> Filter <span class="w-5 h-5 ml-1 text-xs rounded-md text-secondary bg-accent-focus leading-[1.55] ">3</span>
                            <span class="ml-1 material-icons">expand_more</span>
                        </div>
                        <ul class="shadow menu dropdown-content bg-base-100 rounded-box w-52">
                            <li>
                                <a>Item 1</a>
                            </li>
                        </ul>
                    </div> -->
                </div>
            </div>
            <div class="relative mx-5 pb-14">
                <!-- verticle line start -->
                <div class="absolute top-7  w-[1px]  h-[calc(100%-70px)]  bg-accent-focus left-[18px]    max-w-[700px]">
                </div>
                <!-- verticle line end -->

                <div class="flex max-w-[700px] pt-6 relative" *ngFor="let act of activityList; let i = index">
                    <div>
                        <span class="flex items-center justify-center ml-auto text-white rounded-full material-icons bg-[#BAC0C2]  h-11 w-11 text-xl">
                            sync
                        </span>
                    </div>
                    <div class="w-4/5 pl-5">
                        <h3 class="font-bold text-secondary-focus">{{act?.title}}</h3>
                        <!-- <h6 class="font-bold text-secondary-focus" style="color: #06c4af;">{{act?.activityTypeLabel}}</h6> -->
                        <span class="block text-xs">{{act?.activityDate | date:'longDate'}}</span>
                        <p>{{act?.message}}</p>
                    </div>
                </div>
            </div>
            <div class="text-center" *ngIf="activityList?.length === 0">
                <span class="text-blueGray-700 font-xl">No records found</span>
            </div>
            <!-- <a href="#" class="block pb-4 pr-6 font-bold text-right text-primary"> View All Activities</a> -->
        </div>

    </div>
</div>
<!-- end Overview -->